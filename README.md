# TelegramMinter - Автоматическая покупка стикеров

Приложение для автоматической покупки стикеров через API StickerDom с автоматической отправкой TON транзакций. Поддерживает работу с множественными аккаунтами одновременно.

## Возможности

- ✅ Автоматическая покупка стикеров через API
- ✅ Автоматическая отправка TON транзакций на блокчейн
- ✅ Парсинг данных из ответа API (order_id, total_amount, wallet)
- ✅ **Поддержка множественных аккаунтов**
- ✅ Индивидуальные настройки для каждого аккаунта
- ✅ Тестовый режим для безопасного тестирования
- ✅ Многопоточная обработка
- ✅ Подробная статистика и логирование

## Конфигурация

Создайте файл `config.json` на основе `config.example.json`:

```json
{
  "test_mode": false,
  "test_address": "UQBfuEnLEUF8JEbXpknjmxGqeZsNR2CX9MIJfZVi99M1OCEF",
  "accounts": [
    {
      "name": "Account 1",
      "auth_token": "YOUR_JWT_TOKEN_1",
      "seed_phrase": "your twenty four word seed phrase goes here",
      "threads": 2,
      "collection": 4,
      "character": 15,
      "currency": "TON",
      "count": 5
    },
    {
      "name": "Account 2",
      "auth_token": "YOUR_JWT_TOKEN_2", 
      "seed_phrase": "another twenty four word seed phrase goes here",
      "threads": 1,
      "collection": 25,
      "character": 1,
      "currency": "TON",
      "count": 3
    }
  ]
}
```

### Параметры конфигурации

#### Общие настройки:
- `test_mode` - включить тестовый режим для всех аккаунтов (true/false)
- `test_address` - адрес для отправки в тестовом режиме

#### Настройки аккаунта:
- `name` - название аккаунта для удобства
- `auth_token` - JWT токен для авторизации в API StickerDom
- `seed_phrase` - SEED фраза TON кошелька (24 слова через пробел)
- `threads` - количество потоков для этого аккаунта
- `collection` - ID коллекции стикеров
- `character` - ID персонажа
- `currency` - валюта платежа (обычно "TON")
- `count` - количество стикеров для покупки

## Как работает

1. **Покупка стикеров**: Приложение отправляет POST запрос к API StickerDom для каждого аккаунта
2. **Парсинг ответа**: Извлекает `order_id`, `total_amount`, `currency`, `wallet` из JSON ответа
3. **Отправка TON**: Создает и отправляет TON транзакцию с:
   - Суммой: `total_amount + комиссия (0.25 TON)`
   - Комментарием: `order_id`
   - Получателем: `wallet` (или `test_address` в тестовом режиме)

## Установка и запуск

1. Клонируйте репозиторий
2. Установите зависимости: `go mod tidy`
3. Создайте `config.json` на основе примера
4. Запустите: `go run cmd/stickersbot/main.go`

## Пример успешного ответа API

```json
{
  "ok": true,
  "data": {
    "order_id": "567d37de-895c-4290-b2a0-d338083eddab",
    "total_amount": 25050000000,
    "currency": "TON",
    "wallet": "UQBfuEnLEUF8JEbXpknjmxGqeZsNR2CX9MIJfZVi99M1OCEF"
  }
}
```

## Множественные аккаунты

Приложение поддерживает работу с неограниченным количеством аккаунтов одновременно:

- **Индивидуальные настройки**: Каждый аккаунт имеет свои токен, seed фразу, коллекцию, количество потоков
- **Параллельная работа**: Все аккаунты работают одновременно в своих потоках
- **Общая статистика**: Единая статистика по всем аккаунтам
- **Тестовый режим**: Общий для всех аккаунтов

## Безопасность

⚠️ **ВАЖНО**: 
- Храните seed фразы в безопасности
- Используйте тестовый режим для проверки работы
- Проверьте баланс кошельков перед запуском
- Seed фраза должна содержать ровно 24 слова
- Каждый аккаунт может иметь свой кошелек

## Логи и статистика

Приложение показывает подробную статистику:
- Общее количество запросов по всем аккаунтам
- Успешные запросы
- Ошибки
- Количество отправленных TON транзакций
- RPS (запросов в секунду)
- Время работы
- Детализация по аккаунтам в логах

## Построение

```bash
go build -o bin/stickersbot cmd/stickersbot/main.go
```